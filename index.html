<html>
<HEAD>
<TITLE>Login page</TITLE>
</HEAD>
<body bgcolor="#e7e7e7">

<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript">


var id = "beginnerSC";
var sandbox = "sandbox-stable";


function LaunchEmpty()
{
	var url = "https://mybinder.org/v2/gh/" + id + "/" + sandbox + "/master?urlpath=lab";
	window.open(url, "_self"); 
}
	
function LaunchPull()
{
	var repoName = document.isForm.repoName.value;
	var useToken = document.isForm.useToken.checked;

	if (useToken == true)
	{
		// Private repo needs password to launch
		// The encreypted token below is from: alert(CryptoJS.AES.encrypt(MY_TOKEN, MY_PASSWORD));


		var password = document.isForm.password.value;	
		var decrypted = CryptoJS.AES.decrypt("U2FsdGVkX1/3oBBZJXnAVzFm0dbx2aUrpReU1i3v1iSPqgtlaxz+7EqfuIGFu9SQLMepQZnmOd4XZXy0Atp0Qw==", password)
		var token = decrypted.toString(CryptoJS.enc.Utf8);

		var url = "https://mybinder.org/v2/gh/" 
			+ id + "/" + sandbox 
			+ "/master?urlpath=git-pull?repo=https://" 
			+ token 
			+ "@github.com/" 
			+ id + "/" + repoName
			+ "%26amp%3Bbranch=master%26amp%3Burlpath=lab/tree/" 
			+ repoName + "?autodecode";
	}
	else
	{
		var url = "https://mybinder.org/v2/gh/" 
			+ id + "/" + sandbox + 
			"/master?urlpath=git-pull?repo=https://github.com/" 
			+ id + "/" + repoName + 
			"%26amp%3Bbranch=master%26amp%3Burlpath=lab/tree/"
			+ repoName + "?autodecode";
	} 
	window.open(url, "_self"); 
}


function change(useToken) {
	if (useToken.checked) {
		document.isForm.password.disabled = false;
	} else {
		document.isForm.password.value = "";
		document.isForm.password.disabled = true;
	}
}

</script>
<center>
<br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>
<form name="isForm">
<p><B>Launch in a Could Workspace</B></p>
<table border=0>
<tr>
<td>Launch with password</td>
<td><input type="checkbox" name="useToken" onchange="change(this)" checked></td>
</tr>
<tr>
<td>Repository name</td>
<td><input name="repoName" value=""></td>
</tr>
<tr>
<td>Github password</td>
<td><input type="password", name="password" value=""></td>
</tr>
</table>	
<p>
<input type=button name="lp" value="Launch and Pull" onClick="LaunchPull();return true;">
<input type=button name="le" value="Launch Empty" onClick="LaunchEmpty();return true;">
</p>					
</form>
<br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>
 
</center>
</body>
</html>
